<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"      
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions"
                template="/webpages/templates/ui.xhtml">

    <ui:define name="content title">
        <h:outputText value="Affymetrix Data Heat Map Unit Delta" />
    </ui:define>

    <ui:define name="export">
        <h1 style="margin: 0;">
            <h:outputText value="Export Data"/>
        </h1>
        <p:menubar>
            <p:menuitem ajax="false" value="Export to Excel">
                <p:dataExporter type="xls" target="exportableHeatMapTbl" fileName="heatMapUnitDeltaData" />    
            </p:menuitem>
            <p:menuitem ajax="false" value="Export as CSV">  
                <p:dataExporter type="csv" target="exportableHeatMapTbl" fileName="heatMapUnitDeltaData" />  
            </p:menuitem> 
            <p:menuitem value="Image VERTICAL" 
                        onclick="exportHeatMap(#{microXenoController.heatMap.gson}, false, true)"/>  
            <p:menuitem value="Image HORIZONTAL" 
                        onclick="exportHeatMap(#{microXenoController.heatMap.gson}, true, true)"/>
        </p:menubar>
    </ui:define>

    <ui:define name="content">

        <script type="text/javascript">
            $(document).ready(function () {
                $("[id='microXenoForm:heatMapTbl']").rotateTableCellContent();
            });
        </script>

        <c:set var="heatMap" value="#{microXenoController.heatMap}"/>

        <ui:include src="/webpages/heatMapUnitDelta.xhtml"/>

    </ui:define>

</ui:composition>