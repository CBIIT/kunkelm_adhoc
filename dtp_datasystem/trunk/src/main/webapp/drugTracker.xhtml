<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

  <f:view contentType="text/html">

    <h:head>
      <title>DCTD Drug Tracker</title>
    </h:head>
    <h:body>

      <h:form id="drugTrackerForm">

        <p:growl 
          id="growl"             
          showDetail="true" 
          autoUpdate="true"/>  

        <p:messages id="messages" 
                    showDetail="true" 
                    autoUpdate="true" 
                    closable="true" />  

        <noscript>
          <font color="red" size="5">This website makes use of javascript.  Please enable javascript in your web browser and reload this web page.</font>
        </noscript>

        <h:outputScript library="js" name="dctdDataSystem.js"/>

        <h:outputScript library="js" name="canvasWrangling.js"/>

        <h:outputStylesheet library="css" name="my.css"/>

        <p:tabView id="outerTabView" 
                   dynamic="true"
                   cache="true">

          <p:tab title="Search">
            
            <p:panel id="SearchCriteriaPanel">


              <p:commandButton value="Reset All Search Criteria"
                               action="#{drugTrackerController.resetSearch()}"
                               update=":drugTrackerForm:outerTabView:SearchCriteriaPanel"/>

              <p:panel style="width:1200px">

                <f:facet name="header"> 
                  <h:outputText value="Compound Criteria"/>
                </f:facet>  

                <p:panelGrid>
                  <p:row>
                    <p:column>
                      <h:outputLabel value="NSCs:" for="nscListBox" />
                    </p:column>

                    <p:column>
                      <h:outputLabel value="CASes:" for="casListBox" />
                    </p:column>
                  </p:row>
                  <p:row>
                    <p:column>
                      <p:selectCheckboxMenu id="nscListBox" value="#{drugTrackerController.nscs}" label="NSCs" filter="true" filterText="Filter" filterMatchMode="startsWith" panelStyle="width:220px">  
                        <f:selectItems value="#{drugTrackerApplicationBean.nscItems}" />  
                      </p:selectCheckboxMenu> 

                    </p:column>
                    <p:column>
                      <p:selectCheckboxMenu id="casListBox" value="#{drugTrackerController.cases}" label="CASs" filter="true" filterText="Filter" filterMatchMode="startsWith" panelStyle="width:220px">  
                        <f:selectItems value="#{drugTrackerApplicationBean.casItems}" />  
                      </p:selectCheckboxMenu> 
                    </p:column>
                  </p:row>
                  <p:row>
                    <p:column>
                      <h:outputLabel value="Drug Names:" for="drugNameListBox" />
                    </p:column>
                    <p:column>
                      <h:outputLabel value="Aliases:" for="aliasListBox" />                                    
                    </p:column>
                  </p:row>
                  <p:row>
                    <p:column>
                      <p:selectCheckboxMenu id="drugNameListBox" value="#{drugTrackerController.drugNames}" label="Drug Names" filter="true" filterText="Filter" filterMatchMode="startsWith" panelStyle="width:220px">  
                        <f:selectItems value="#{drugTrackerApplicationBean.drugNameItems}" />  
                      </p:selectCheckboxMenu> 
                    </p:column>
                    <p:column>
                      <p:selectCheckboxMenu id="aliasListBox" value="#{drugTrackerController.aliases}" label="Alias" filter="true" filterText="Filter" filterMatchMode="startsWith" panelStyle="width:220px">  
                        <f:selectItems value="#{drugTrackerApplicationBean.aliasItems}" />  
                      </p:selectCheckboxMenu> 
                    </p:column>
                  </p:row>
                  <p:row>
                    <p:column>
                      <h:outputLabel value="Originators:" for="originatorListBox" />
                    </p:column>
                    <p:column>

                    </p:column>
                  </p:row>
                  <p:row>
                    <p:column>
                      <p:selectCheckboxMenu id="originatorListBox" value="#{drugTrackerController.originators}" label="Originators" filter="true" filterText="Filter" filterMatchMode="contains" panelStyle="width:220px">  
                        <f:selectItems value="#{drugTrackerApplicationBean.originatorItems}" />  
                      </p:selectCheckboxMenu> 
                    </p:column>
                    <p:column>

                    </p:column>
                  </p:row>

                </p:panelGrid>

              </p:panel>

              <p:panel style="width:1200px">

                <f:facet name="header"> 
                  <h:outputText value="Status or Plate Criteria"/>
                </f:facet>  

                <h:outputLabel value="Drug Statuses:" for="drugStatusListBox" />
                <h:selectManyCheckbox id="drugStatusListBox" value="#{drugTrackerController.drugStatuses}" label="Drug Status" required="false" readOnly="false" valuePassThru="true" size="5">
                  <f:selectItems value="#{drugTrackerApplicationBean.drugStatusItems}" />                    
                </h:selectManyCheckbox>
                <h:outputLabel value="Plates:" for="plateListBox" />
                <h:selectManyCheckbox id="plateListBox" value="#{drugTrackerController.plates}" label="Originator" required="false" readOnly="false" valuePassThru="true" size="5">
                  <f:selectItems value="#{drugTrackerApplicationBean.plateItems}" />
                </h:selectManyCheckbox>

              </p:panel>

              <p:panel style="width:1200px">

                <f:facet name="header"> 
                  <h:outputText value="Targets"/>
                </f:facet>  

                <h:outputLabel value="Targets:" for="targetListBox" />
                <p:autoComplete scrollHeight="100" id="targetListBox" 
                                value="#{drugTrackerController.targets}" 
                                completeMethod="#{drugTrackerApplicationBean.completeTarget}" multiple="true"/>                                  

              </p:panel>

              <p:commandButton rendered="false"
                               value="Search By Criteria" 
                               update=":drugTrackerForm:outerTabView:drugTrackerTabView:drugTrackerSearchResultsTabView,:drugTrackerForm:SearchCriteriaDialog" 
                               id="actionButton" 
                               oncomplete="searchcriteriadlg.show()" 
                               actionListener="#{drugTrackerController.performSearch()}" />
              
            </p:panel>
            
          </p:tab>

          <p:tab title="Search Results">          
          </p:tab>

          <p:tab title="Substructure Searches">
          </p:tab>

        </p:tabView>

      </h:form>

    </h:body>

  </f:view>

</html>