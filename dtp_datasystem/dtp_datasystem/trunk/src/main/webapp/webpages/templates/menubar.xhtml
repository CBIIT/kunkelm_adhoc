<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"      
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions">

    <p:menubar autoDisplay="false">

        <p:menuitem value="Show Available Lists"
                    icon="fa fa-eye"
                    ajax="false"                         
                    action="/webpages/availableLists?faces-redirect=true"/>


        <p:submenu label="Create List" 
                   icon="fa fa-binoculars">

            <p:menuitem value="Search By Parameters"
                        icon="fa fa-binoculars"
                        ajax="false"
                        action="/webpages/createList?faces-redirect=true"/>

            <p:menuitem value="Search By Structure"
                        icon="fa fa-binoculars"
                        ajax="false"
                        action="/webpages/chemDoodle?faces-redirect=true"/>

            <p:menuitem value="Upload Structures"
                        icon="fa fa-upload"
                        ajax="false"
                        action="/webpages/uploadList?faces-redirect=true"/>

        </p:submenu>

        <p:submenu label="View Active List"
                   icon="fa fa-eye">

            <p:menuitem value="View As Table"
                        icon="fa fa-table"
                        ajax="false"
                        action="/webpages/activeListTable?faces-redirect=true"/>

            <p:menuitem value="View As Grid"
                        icon="fa fa-th"
                        ajax="false"
                        action="/webpages/activeListGrid?faces-redirect=true"/>

            <p:menuitem value="View As Form"
                        icon="fa fa-square-o"
                        ajax="false"
                        action="/webpages/activeListForm?faces-redirect=true"/>

            <p:menuitem value="Property Explorer" 
                        icon="fa fa-bar-chart"
                        ajax="false"
                        actionListener="#{histogramController.handleLoadActiveList}"/>

        </p:submenu>

        <p:menuitem value="Configure Display"
                    icon="fa fa-gear"
                    ajax="false"
                    action="/webpages/configuration?faces-redirect=true"/>

        <ui:remove>
        
            MOVED TO ui:insert/ui:define
            
        <p:submenu label="Export">

            <p:menuitem value="Export Active List to Excel"
                        ajax="false"
                        actionListener="#{listManagerController.handleExcelExport}"/>

            <p:menuitem value="Export Active List as CSV"
                        ajax="false"
                        actionListener="#{listManagerController.handleCsvExport}" />

            <p:menuitem value="Export Structures as Image"
                        ajax="false"
                        onclick="structuresAsGridImage()"/>

        </p:submenu>
            
        </ui:remove>

        <p:menuitem value="List Logic"
                    icon="fa fa-lightbulb-o"
                    ajax="false"
                    action="/webpages/listLogic?faces-redirect=true"/>

        <f:facet name="options">

            <p:commandButton ajax="false"
                             style="color: blue;"
                             action="#{sessionController.logout()}"
                             value="Logout #{sessionController.loggedUser}"/>

        </f:facet>

    </p:menubar>

</ui:composition>