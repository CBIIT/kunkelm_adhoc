<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"      
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions"
                template="/webpages/templates/ui.xhtml">

    <ui:define name="content">

        <p:remoteCommand action="#{listContentController.handleConfigureSearch()}" 
                         autoRun="true"
                         update="datasystemForm:listnametext"/>

        <h2 style="margin: 0;">
            <h:outputText value="Search Compounds" style="display: inline-block;"/>
        </h2>

        <p:panel style="display:inline-block;border: none;"> 

            <p:outputLabel for="listnametext" value="Save Search Results to List"/>      
            <br/>
            <h:inputText value="#{listContentController.listNameForSearch}" 
                         size="50"
                         id="listnametext"/>

            <p:spacer height="20" width="100%"/>

            <p:commandButton value="Search Compounds"
                             action="#{listContentController.performCreateListBySearch()}"
                             onstart="PF('creatingBUI').show();"
                             oncomplete="PF('creatingBUI').hide();"/>      
            <p:spacer width="20"/>      
            <p:commandButton value="Start Over"
                             action="#{listContentController.performStartOver()}"/>      
        </p:panel>

        <p:tabView id="searchTabView" widgetVar="searchTabView">

            <!--
              #####    ##    #####
                #     #  #   #    #
                #    #    #  #####
                #    ######  #    #
                #    #    #  #    #
                #    #    #  #####
            -->

            <p:tab title="Basic Search Parameters">

                <p:panelGrid columns="3" styleClass="borderlessPanelGrid">

                    <p:panel style="display:inline-block;border: none;"> 
                        <h:outputLabel for="nscTextArea_id" value="NSC Numbers"/>
                        <br/>
                        <h:inputTextarea value="#{searchCriteriaBean.nscTextArea}" id="nscTextArea_id" cols="15" rows="3"/>
                    </p:panel>

                    <p:panel style="display: inline-block;border: none;">
                        <p:outputLabel for="nscAutoComp" value="NSC Numbers"/>
                        <br/>
                        <p:autoComplete id="nscAutoComp" 
                                        value="#{searchCriteriaBean.nscsFromAutoComp}"
                                        dropdown="true" 
                                        multiple="true" 
                                        forceSelection="true"
                                        scrollHeight="150"
                                        minQueryLength="3"                                    
                                        completeMethod="#{applicationScopeBean.completensc}">
                        </p:autoComplete>                
                    </p:panel>

                    <h:outputText value="EXPL GOES HERE"/>

                    <p:panel style="display:inline-block;border: none;"> 
                        <h:outputLabel for="drugNameTextArea_id" value="Drug Names"/>
                        <br/>
                        <h:inputTextarea value="#{searchCriteriaBean.drugNameTextArea}" id="drugNameTextArea_id" cols="15" rows="3"/>
                    </p:panel>

                    <p:panel style="display: inline-block;border: none;">
                        <p:outputLabel for="drugNameAutoComp" value="Drug Names"/>
                        <br/>
                        <p:autoComplete id="drugNameAutoComp" 
                                        value="#{searchCriteriaBean.drugNamesFromAutoComp}" 
                                        dropdown="true" 
                                        multiple="true" 
                                        forceSelection="true" 
                                        scrollHeight="150"
                                        minQueryLength="3"                                    
                                        completeMethod="#{applicationScopeBean.completedrugName}">
                        </p:autoComplete>                
                    </p:panel>

                    <h:outputText value="EXPL GOES HERE"/>

                    <p:panel style="display:inline-block;border: none;"> 
                        <h:outputLabel for="aliasTextArea_id" value="Aliases"/>
                        <br/>
                        <h:inputTextarea value="#{searchCriteriaBean.aliasTextArea}" id="aliasTextArea_id" cols="15" rows="3"/>
                    </p:panel>

                    <p:panel style="display: inline-block;border: none;">
                        <p:outputLabel for="aliasAutoComp" value="Aliases"/>
                        <br/>
                        <p:autoComplete id="aliasAutoComp"  
                                        value="#{searchCriteriaBean.aliasesFromAutoComp}"
                                        dropdown="true" 
                                        multiple="true" 
                                        forceSelection="true"
                                        scrollHeight="150"
                                        minQueryLength="3"                                    
                                        completeMethod="#{applicationScopeBean.completealias}">
                        </p:autoComplete>                
                    </p:panel>

                    <h:outputText value="EXPL GOES HERE"/>

                    <p:panel style="display:inline-block;border: none;"> 
                        <h:outputLabel for="casTextArea_id" value="CAS Numbers"/>
                        <br/>
                        <h:inputTextarea value="#{searchCriteriaBean.casTextArea}" id="casTextArea_id" cols="15" rows="3"/>
                    </p:panel>

                    <p:panel style="display: inline-block;border: none;">
                        <p:outputLabel for="casAutoComp" value="CAS Numbers"/>
                        <br/>
                        <p:autoComplete id="casAutoComp" 
                                        value="#{searchCriteriaBean.casesFromAutoComp}" 
                                        dropdown="true"
                                        multiple="true" 
                                        forceSelection="true"
                                        scrollHeight="150"
                                        minQueryLength="3"                                    
                                        completeMethod="#{applicationScopeBean.completecas}">
                        </p:autoComplete>                
                    </p:panel>

                    <h:outputText value="EXPL GOES HERE"/>

                    <p:panel style="display:inline-block;border: none;"> 
                        <h:outputLabel for="cmpdNamedSetTextArea_id" value="DTP Compound Set Names"/>
                        <br/>
                        <h:inputTextarea value="#{searchCriteriaBean.cmpdNamedSetTextArea}" id="cmpdNamedSetTextArea_id" cols="15" rows="3"/>
                    </p:panel>

                    <p:panel style="display: inline-block;border: none;">
                        <p:outputLabel for="cmpdNamedSetAutoComp" value="DTP Compound Set Names"/>
                        <br/>
                        <p:autoComplete id="cmpdNamedSetAutoComp" 
                                        value="#{searchCriteriaBean.cmpdNamedSetsFromAutoComp}" 
                                        dropdown="true" 
                                        multiple="true" 
                                        forceSelection="true"
                                        scrollHeight="150"
                                        minQueryLength="1"                                    
                                        completeMethod="#{applicationScopeBean.completecmpdNamedSet}">
                        </p:autoComplete>                
                    </p:panel>

                    <h:outputText value="EXPL GOES HERE"/>

                    <p:panel style="display:inline-block;border: none;"> 
                        <h:outputLabel for="projectCodeTextArea_id" value="Project Codes"/>
                        <br/>
                        <h:inputTextarea value="#{searchCriteriaBean.projectCodeTextArea}" id="projectCodeTextArea_id" cols="15" rows="3"/>
                    </p:panel>

                    <p:panel style="display: inline-block;border: none;">
                        <p:outputLabel for="projectCodeAutoComp" value="DTP Project Codes"/>
                        <br/>
                        <p:autoComplete id="projectCodeAutoComp" 
                                        value="#{searchCriteriaBean.projectCodesFromAutoComp}" 
                                        dropdown="true" 
                                        multiple="true" 
                                        forceSelection="true"
                                        scrollHeight="150"
                                        minQueryLength="1"                                    
                                        completeMethod="#{applicationScopeBean.completeprojectCode}">
                        </p:autoComplete>                
                    </p:panel>

                    <h:outputText value="EXPL GOES HERE"/>

                    <p:panel style="display:inline-block;border: none;"> 
                        <h:outputLabel for="plateTextArea_id" value="DTP Plate Names"/>
                        <br/>
                        <h:inputTextarea value="#{searchCriteriaBean.plateTextArea}" id="plateTextArea_id" cols="15" rows="3"/>
                    </p:panel>

                    <p:panel style="display: inline-block;border: none;">
                        <p:outputLabel for="plateAutoComp" value="DTP Plate Names"/>
                        <br/>
                        <p:autoComplete id="plateAutoComp" 
                                        value="#{searchCriteriaBean.platesFromAutoComp}" 
                                        dropdown="true" 
                                        multiple="true" 
                                        forceSelection="true"
                                        scrollHeight="150"
                                        minQueryLength="1" 
                                        completeMethod="#{applicationScopeBean.completeplate}">
                        </p:autoComplete>                
                    </p:panel>

                    <h:outputText value="EXPL GOES HERE"/>

                    <p:panel style="display:inline-block;border: none;"> 
                        <h:outputLabel for="targetTextArea_id" value="Targets"/>
                        <br/>
                        <h:inputTextarea value="#{searchCriteriaBean.targetTextArea}" id="targetTextArea_id" cols="15" rows="3"/>
                    </p:panel>

                    <p:panel style="display: inline-block;border: none;">
                        <p:outputLabel for="targetAutoComp" value="Targets"/>
                        <br/>
                        <p:autoComplete id="targetAutoComp" 
                                        value="#{searchCriteriaBean.targetsFromAutoComp}" 
                                        dropdown="true" 
                                        multiple="true" 
                                        forceSelection="true"
                                        scrollHeight="150"
                                        minQueryLength="1"                                    
                                        completeMethod="#{applicationScopeBean.completetarget}">
                        </p:autoComplete>                
                    </p:panel>

                    <h:outputText value="EXPL GOES HERE"/>

                    <p:panel style="display:inline-block;border: none;"> 
                        <h:outputLabel for="mtxtTextArea_id" value="Mtxt Fragments"/>
                        <br/>
                        <h:inputTextarea value="#{searchCriteriaBean.mtxtTextArea}" id="mtxtTextArea_id" cols="15" rows="3"/>
                    </p:panel>

                    <p:panel style="display:inline-block;border: none;"> 
                        <h:outputLabel for="pseudoAtomsTextArea_id" value="PseudoAtom Fragments"/>
                        <br/>
                        <h:inputTextarea value="#{searchCriteriaBean.pseudoAtomsTextArea}" id="pseudoAtomsTextArea_id" cols="15" rows="3"/>
                    </p:panel>

                    <h:outputText value="EXPL GOES HERE"/>

                </p:panelGrid>

            </p:tab>

            <!--
              #####    ##    #####
                #     #  #   #    #
                #    #    #  #####
                #    ######  #    #
                #    #    #  #    #
                #    #    #  #####
            -->

            <!--

            <p:tab title="Advanced Search Parameters">

                <h2 style="margin: 0;">
                    <h:outputText value="Constraints on pChem parameters" style="display: inline-block;"/>
                </h2>

                
                <h3 style="margin: 0;">
                    <h:outputText value="Molecule Constraints" style="display: inline-block;"/>
                </h3>
                
                <p:panel header="Molecular Weight" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_molecularWeight_id" value="Molecular Weight MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_molecularWeight}" id="min_molecularWeight_id"/>
                    <br/>
                    <h:outputLabel for="max_molecularWeight_id" value="Molecular Weight MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_molecularWeight}" id="max_molecularWeight_id"/>
                </p:panel>

                <p:panel header="Molecular Formula" style="display:inline-block;border: none;">
                    <h:outputLabel for="molecularFormula_id" value="molecularFormula"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.molecularFormula}" id="molecularFormula_id"/>                
                </p:panel>

                <p:panel header="HBond Acceptors count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countHydBondAcceptors_id" value="HBond Acceptors count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countHydBondAcceptors}" id="min_countHydBondAcceptors_id"/>
                    <br/>
                    <h:outputLabel for="max_countHydBondAcceptors_id" value="HBond Acceptors count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countHydBondAcceptors}" id="max_countHydBondAcceptors_id"/>
                </p:panel>

                <p:panel header="HBond Donors count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countHydBondDonors_id" value="HBond Donors count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countHydBondDonors}" id="min_countHydBondDonors_id"/>
                    <br/>
                    <h:outputLabel for="max_countHydBondDonors_id" value="HBond Donors count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countHydBondDonors}" id="max_countHydBondDonors_id"/>
                </p:panel>

                <p:panel header="Formal Charge" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_formalCharge_id" value="Formal Charge MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_formalCharge}" id="min_formalCharge_id"/>
                    <br/>
                    <h:outputLabel for="max_formalCharge_id" value="Formal Charge MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_formalCharge}" id="max_formalCharge_id"/>
                </p:panel>

                <p:panel header="aLogP" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_theALogP_id" value="aLogP MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_theALogP}" id="min_theALogP_id"/>
                    <br/>
                    <h:outputLabel for="max_theALogP_id" value="aLogP MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_theALogP}" id="max_theALogP_id"/>
                </p:panel>

                <p:panel header="logD" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_logD_id" value="logD MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_logD}" id="min_logD_id"/>
                    <br/>
                    <h:outputLabel for="max_logD_id" value="logD MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_logD}" id="max_logD_id"/>
                </p:panel>

                <p:panel header="Surface Area" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_surfaceArea_id" value="Surface Area MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_surfaceArea}" id="min_surfaceArea_id"/>
                    <br/>
                    <h:outputLabel for="max_surfaceArea_id" value="Surface Area MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_surfaceArea}" id="max_surfaceArea_id"/>
                </p:panel>

                <p:panel header="Solubility" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_solubility_id" value="Solubility MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_solubility}" id="min_solubility_id"/>
                    <br/>
                    <h:outputLabel for="max_solubility_id" value="Solubility MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_solubility}" id="max_solubility_id"/>
                </p:panel>

                <h3 style="margin: 0;">
                    <h:outputText value="Atom Constraints" style="display: inline-block;"/>
                </h3>
                
                <p:panel header="Atoms count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countAtoms_id" value="Atoms count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countAtoms}" id="min_countAtoms_id"/>
                    <br/>
                    <h:outputLabel for="max_countAtoms_id" value="Atoms count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countAtoms}" id="max_countAtoms_id"/>
                </p:panel>

                <p:panel header="Atoms Hydrogen count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countHydrogenAtoms_id" value="Atoms Hydrogen count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countHydrogenAtoms}" id="min_countHydrogenAtoms_id"/>
                    <br/>
                    <h:outputLabel for="max_countHydrogenAtoms_id" value="Atoms Hydrogen count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countHydrogenAtoms}" id="max_countHydrogenAtoms_id"/>
                </p:panel>

                <p:panel header="Atoms Metal count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countMetalAtoms_id" value="Atoms Metal count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countMetalAtoms}" id="min_countMetalAtoms_id"/>
                    <br/>
                    <h:outputLabel for="max_countMetalAtoms_id" value="Atoms Metal count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countMetalAtoms}" id="max_countMetalAtoms_id"/>
                </p:panel>

                <p:panel header="Atoms Heavy count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countHeavyAtoms_id" value="Atoms Heavy count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countHeavyAtoms}" id="min_countHeavyAtoms_id"/>
                    <br/>
                    <h:outputLabel for="max_countHeavyAtoms_id" value="Atoms Heavy count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countHeavyAtoms}" id="max_countHeavyAtoms_id"/>
                </p:panel>

                <p:panel header="Atoms Positive count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countPositiveAtoms_id" value="Atoms Positive count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countPositiveAtoms}" id="min_countPositiveAtoms_id"/>
                    <br/>
                    <h:outputLabel for="max_countPositiveAtoms_id" value="Atoms Positive count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countPositiveAtoms}" id="max_countPositiveAtoms_id"/>
                </p:panel>

                <p:panel header="Atoms Negative count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countNegativeAtoms_id" value="Atoms Negative count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countNegativeAtoms}" id="min_countNegativeAtoms_id"/>
                    <br/>
                    <h:outputLabel for="max_countNegativeAtoms_id" value="Atoms Negative count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countNegativeAtoms}" id="max_countNegativeAtoms_id"/>
                </p:panel>

                <p:panel header="Atoms Stereo count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countStereoAtoms_id" value="Atoms Stereo count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countStereoAtoms}" id="min_countStereoAtoms_id"/>
                    <br/>
                    <h:outputLabel for="max_countStereoAtoms_id" value="Atoms Stereo count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countStereoAtoms}" id="max_countStereoAtoms_id"/>
                </p:panel>

                <p:panel header="Bonds count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countBonds_id" value="Bonds count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countBonds}" id="min_countBonds_id"/>
                    <br/>
                    <h:outputLabel for="max_countBonds_id" value="Bonds count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countBonds}" id="max_countBonds_id"/>
                </p:panel>

                <h3 style="margin: 0;">
                    <h:outputText value="Bond Constraints" style="display: inline-block;"/>
                </h3>
                                
                <p:panel header="Bonds Aromatic count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countAromaticBonds_id" value="Bonds Aromatic count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countAromaticBonds}" id="min_countAromaticBonds_id"/>
                    <br/>
                    <h:outputLabel for="max_countAromaticBonds_id" value="Bonds Aromatic count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countAromaticBonds}" id="max_countAromaticBonds_id"/>
                </p:panel>

                <p:panel header="Bonds Single count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countSingleBonds_id" value="Bonds Single count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countSingleBonds}" id="min_countSingleBonds_id"/>
                    <br/>
                    <h:outputLabel for="max_countSingleBonds_id" value="Bonds Single count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countSingleBonds}" id="max_countSingleBonds_id"/>
                </p:panel>

                <p:panel header="Bonds Double count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countDoubleBonds_id" value="Bonds Double count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countDoubleBonds}" id="min_countDoubleBonds_id"/>
                    <br/>
                    <h:outputLabel for="max_countDoubleBonds_id" value="Bonds Double count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countDoubleBonds}" id="max_countDoubleBonds_id"/>
                </p:panel>

                <p:panel header="Bonds Triple count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countTripleBonds_id" value="Bonds Triple count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countTripleBonds}" id="min_countTripleBonds_id"/>
                    <br/>
                    <h:outputLabel for="max_countTripleBonds_id" value="Bonds Triple count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countTripleBonds}" id="max_countTripleBonds_id"/>
                </p:panel>

                <p:panel header="Bonds Rotatable count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countRotatableBonds_id" value="Bonds Rotatable count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countRotatableBonds}" id="min_countRotatableBonds_id"/>
                    <br/>
                    <h:outputLabel for="max_countRotatableBonds_id" value="Bonds Rotatable count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countRotatableBonds}" id="max_countRotatableBonds_id"/>
                </p:panel>

                <p:panel header="Bonds Ring count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countRingBonds_id" value="Bonds Ring count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countRingBonds}" id="min_countRingBonds_id"/>
                    <br/>
                    <h:outputLabel for="max_countRingBonds_id" value="Bonds Ring count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countRingBonds}" id="max_countRingBonds_id"/>
                </p:panel>

                <p:panel header="Bonds Stereo count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countStereoBonds_id" value="Bonds Stereo count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countStereoBonds}" id="min_countStereoBonds_id"/>
                    <br/>
                    <h:outputLabel for="max_countStereoBonds_id" value="Bonds Stereo count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countStereoBonds}" id="max_countStereoBonds_id"/>
                </p:panel>
                
                <h3 style="margin: 0;">
                    <h:outputText value="Ring Constraints" style="display: inline-block;"/>
                </h3>
                
                <p:panel header="Rings Aromatic count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countAromaticRings_id" value="Rings Aromatic count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countAromaticRings}" id="min_countAromaticRings_id"/>
                    <br/>
                    <h:outputLabel for="max_countAromaticRings_id" value="Rings Aromatic count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countAromaticRings}" id="max_countAromaticRings_id"/>
                </p:panel>

                <p:panel header="Ring Assemblies count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countRingAssemblies_id" value="Ring Assemblies count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countRingAssemblies}" id="min_countRingAssemblies_id"/>
                    <br/>
                    <h:outputLabel for="max_countRingAssemblies_id" value="Ring Assemblies count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countRingAssemblies}" id="max_countRingAssemblies_id"/>
                </p:panel>

                <p:panel header="Rings count" style="display:inline-block;border: none;">
                    <h:outputLabel for="min_countRings_id" value="Rings count MIN"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.min_countRings}" id="min_countRings_id"/>
                    <br/>
                    <h:outputLabel for="max_countRings_id" value="Rings count MAX"/>
                    <br/>
                    <h:inputText value="#{searchCriteriaBean.max_countRings}" id="max_countRings_id"/>
                </p:panel>

            </p:tab>
            
            -->

            <!--
              #####    ##    #####
                #     #  #   #    #
                #    #    #  #####
                #    ######  #    #
                #    #    #  #    #
                #    #    #  #####
            -->

            <p:tab title="Advanced Search Parameters">

                    <h2 style="margin: 0;">
                        <h:outputText value="Constraints on pChem parameters" style="display: inline-block;"/>
                    </h2>

                    <p:panelGrid columns="5" styleClass="borderlessPanelGrid">

                        <h:outputText value="Molecular Weight"/>
                        <h:outputLabel for="min_molecularWeight_id2" value="Molecular Weight MIN"/><h:inputText title="Molecular Weight MIN" value="#{searchCriteriaBean.min_molecularWeight}" id="min_molecularWeight_id2"/>
                        <h:outputLabel for="max_molecularWeight_id2" value="Molecular Weight MAX"/><h:inputText title="Molecular Weight MAX" value="#{searchCriteriaBean.max_molecularWeight}" id="max_molecularWeight_id2"/>

                        <!--
                        
                        <h:outputText value="Molecular Formula"/>
                        <h:outputLabel for="molecularFormula_id2" value="molecularFormula"/><h:inputText title="molecularFormula" value="#{searchCriteriaBean.molecularFormula}" id="molecularFormula_id2"/>                

                        -->

                        <h:outputText value="HBond Acceptors count"/>
                        <h:outputLabel for="min_countHydBondAcceptors_id2" value="HBond Acceptors count MIN"/><h:inputText title="HBond Acceptors count MIN" value="#{searchCriteriaBean.min_countHydBondAcceptors}" id="min_countHydBondAcceptors_id2"/>
                        <h:outputLabel for="max_countHydBondAcceptors_id2" value="HBond Acceptors count MAX"/><h:inputText title="HBond Acceptors count MAX" value="#{searchCriteriaBean.max_countHydBondAcceptors}" id="max_countHydBondAcceptors_id2"/>


                        <h:outputText value="HBond Donors count"/>
                        <h:outputLabel for="min_countHydBondDonors_id2" value="HBond Donors count MIN"/><h:inputText title="HBond Donors count MIN" value="#{searchCriteriaBean.min_countHydBondDonors}" id="min_countHydBondDonors_id2"/>
                        <h:outputLabel for="max_countHydBondDonors_id2" value="HBond Donors count MAX"/><h:inputText title="HBond Donors count MAX" value="#{searchCriteriaBean.max_countHydBondDonors}" id="max_countHydBondDonors_id2"/>


                        <h:outputText value="Formal Charge"/>
                        <h:outputLabel for="min_formalCharge_id2" value="Formal Charge MIN"/><h:inputText title="Formal Charge MIN" value="#{searchCriteriaBean.min_formalCharge}" id="min_formalCharge_id2"/>
                        <h:outputLabel for="max_formalCharge_id2" value="Formal Charge MAX"/><h:inputText title="Formal Charge MAX" value="#{searchCriteriaBean.max_formalCharge}" id="max_formalCharge_id2"/>


                        <h:outputText value="aLogP"/>
                        <h:outputLabel for="min_theALogP_id2" value="aLogP MIN"/><h:inputText title="aLogP MIN" value="#{searchCriteriaBean.min_theALogP}" id="min_theALogP_id2"/>
                        <h:outputLabel for="max_theALogP_id2" value="aLogP MAX"/><h:inputText title="aLogP MAX" value="#{searchCriteriaBean.max_theALogP}" id="max_theALogP_id2"/>


                        <h:outputText value="logD"/>
                        <h:outputLabel for="min_logD_id2" value="logD MIN"/><h:inputText title="logD MIN" value="#{searchCriteriaBean.min_logD}" id="min_logD_id2"/>
                        <h:outputLabel for="max_logD_id2" value="logD MAX"/><h:inputText title="logD MAX" value="#{searchCriteriaBean.max_logD}" id="max_logD_id2"/>


                        <h:outputText value="Surface Area"/>
                        <h:outputLabel for="min_surfaceArea_id2" value="Surface Area MIN"/><h:inputText title="Surface Area MIN" value="#{searchCriteriaBean.min_surfaceArea}" id="min_surfaceArea_id2"/>
                        <h:outputLabel for="max_surfaceArea_id2" value="Surface Area MAX"/><h:inputText title="Surface Area MAX" value="#{searchCriteriaBean.max_surfaceArea}" id="max_surfaceArea_id2"/>


                        <h:outputText value="Solubility"/>
                        <h:outputLabel for="min_solubility_id2" value="Solubility MIN"/><h:inputText title="Solubility MIN" value="#{searchCriteriaBean.min_solubility}" id="min_solubility_id2"/>
                        <h:outputLabel for="max_solubility_id2" value="Solubility MAX"/><h:inputText title="Solubility MAX" value="#{searchCriteriaBean.max_solubility}" id="max_solubility_id2"/>


                        <h:outputText value="Atoms count"/>
                        <h:outputLabel for="min_countAtoms_id2" value="Atoms count MIN"/><h:inputText title="Atoms count MIN" value="#{searchCriteriaBean.min_countAtoms}" id="min_countAtoms_id2"/>
                        <h:outputLabel for="max_countAtoms_id2" value="Atoms count MAX"/><h:inputText title="Atoms count MAX" value="#{searchCriteriaBean.max_countAtoms}" id="max_countAtoms_id2"/>


                        <h:outputText value="Atoms Hydrogen count"/>
                        <h:outputLabel for="min_countHydrogenAtoms_id2" value="Atoms Hydrogen count MIN"/><h:inputText title="Atoms Hydrogen count MIN" value="#{searchCriteriaBean.min_countHydrogenAtoms}" id="min_countHydrogenAtoms_id2"/>
                        <h:outputLabel for="max_countHydrogenAtoms_id2" value="Atoms Hydrogen count MAX"/><h:inputText title="Atoms Hydrogen count MAX" value="#{searchCriteriaBean.max_countHydrogenAtoms}" id="max_countHydrogenAtoms_id2"/>


                        <h:outputText value="Atoms Metal count"/>
                        <h:outputLabel for="min_countMetalAtoms_id2" value="Atoms Metal count MIN"/><h:inputText title="Atoms Metal count MIN" value="#{searchCriteriaBean.min_countMetalAtoms}" id="min_countMetalAtoms_id2"/>
                        <h:outputLabel for="max_countMetalAtoms_id2" value="Atoms Metal count MAX"/><h:inputText title="Atoms Metal count MAX" value="#{searchCriteriaBean.max_countMetalAtoms}" id="max_countMetalAtoms_id2"/>


                        <h:outputText value="Atoms Heavy count"/>
                        <h:outputLabel for="min_countHeavyAtoms_id2" value="Atoms Heavy count MIN"/><h:inputText title="Atoms Heavy count MIN" value="#{searchCriteriaBean.min_countHeavyAtoms}" id="min_countHeavyAtoms_id2"/>
                        <h:outputLabel for="max_countHeavyAtoms_id2" value="Atoms Heavy count MAX"/><h:inputText title="Atoms Heavy count MAX" value="#{searchCriteriaBean.max_countHeavyAtoms}" id="max_countHeavyAtoms_id2"/>


                        <h:outputText value="Atoms Positive count"/>
                        <h:outputLabel for="min_countPositiveAtoms_id2" value="Atoms Positive count MIN"/><h:inputText title="Atoms Positive count MIN" value="#{searchCriteriaBean.min_countPositiveAtoms}" id="min_countPositiveAtoms_id2"/>
                        <h:outputLabel for="max_countPositiveAtoms_id2" value="Atoms Positive count MAX"/><h:inputText title="Atoms Positive count MAX" value="#{searchCriteriaBean.max_countPositiveAtoms}" id="max_countPositiveAtoms_id2"/>


                        <h:outputText value="Atoms Negative count"/>
                        <h:outputLabel for="min_countNegativeAtoms_id2" value="Atoms Negative count MIN"/><h:inputText title="Atoms Negative count MIN" value="#{searchCriteriaBean.min_countNegativeAtoms}" id="min_countNegativeAtoms_id2"/>
                        <h:outputLabel for="max_countNegativeAtoms_id2" value="Atoms Negative count MAX"/><h:inputText title="Atoms Negative count MAX" value="#{searchCriteriaBean.max_countNegativeAtoms}" id="max_countNegativeAtoms_id2"/>


                        <h:outputText value="Atoms Stereo count"/>
                        <h:outputLabel for="min_countStereoAtoms_id2" value="Atoms Stereo count MIN"/><h:inputText title="Atoms Stereo count MIN" value="#{searchCriteriaBean.min_countStereoAtoms}" id="min_countStereoAtoms_id2"/>
                        <h:outputLabel for="max_countStereoAtoms_id2" value="Atoms Stereo count MAX"/><h:inputText title="Atoms Stereo count MAX" value="#{searchCriteriaBean.max_countStereoAtoms}" id="max_countStereoAtoms_id2"/>


                        <h:outputText value="Bonds count"/>
                        <h:outputLabel for="min_countBonds_id2" value="Bonds count MIN"/><h:inputText title="Bonds count MIN" value="#{searchCriteriaBean.min_countBonds}" id="min_countBonds_id2"/>
                        <h:outputLabel for="max_countBonds_id2" value="Bonds count MAX"/><h:inputText title="Bonds count MAX" value="#{searchCriteriaBean.max_countBonds}" id="max_countBonds_id2"/>


                        <h:outputText value="Bonds Aromatic count"/>
                        <h:outputLabel for="min_countAromaticBonds_id2" value="Bonds Aromatic count MIN"/><h:inputText title="Bonds Aromatic count MIN" value="#{searchCriteriaBean.min_countAromaticBonds}" id="min_countAromaticBonds_id2"/>
                        <h:outputLabel for="max_countAromaticBonds_id2" value="Bonds Aromatic count MAX"/><h:inputText title="Bonds Aromatic count MAX" value="#{searchCriteriaBean.max_countAromaticBonds}" id="max_countAromaticBonds_id2"/>


                        <h:outputText value="Bonds Single count"/>
                        <h:outputLabel for="min_countSingleBonds_id2" value="Bonds Single count MIN"/><h:inputText title="Bonds Single count MIN" value="#{searchCriteriaBean.min_countSingleBonds}" id="min_countSingleBonds_id2"/>
                        <h:outputLabel for="max_countSingleBonds_id2" value="Bonds Single count MAX"/><h:inputText title="Bonds Single count MAX" value="#{searchCriteriaBean.max_countSingleBonds}" id="max_countSingleBonds_id2"/>


                        <h:outputText value="Bonds Double count"/>
                        <h:outputLabel for="min_countDoubleBonds_id2" value="Bonds Double count MIN"/><h:inputText title="Bonds Double count MIN" value="#{searchCriteriaBean.min_countDoubleBonds}" id="min_countDoubleBonds_id2"/>
                        <h:outputLabel for="max_countDoubleBonds_id2" value="Bonds Double count MAX"/><h:inputText title="Bonds Double count MAX" value="#{searchCriteriaBean.max_countDoubleBonds}" id="max_countDoubleBonds_id2"/>


                        <h:outputText value="Bonds Triple count"/>
                        <h:outputLabel for="min_countTripleBonds_id2" value="Bonds Triple count MIN"/><h:inputText title="Bonds Triple count MIN" value="#{searchCriteriaBean.min_countTripleBonds}" id="min_countTripleBonds_id2"/>
                        <h:outputLabel for="max_countTripleBonds_id2" value="Bonds Triple count MAX"/><h:inputText title="Bonds Triple count MAX" value="#{searchCriteriaBean.max_countTripleBonds}" id="max_countTripleBonds_id2"/>


                        <h:outputText value="Bonds Rotatable count"/>
                        <h:outputLabel for="min_countRotatableBonds_id2" value="Bonds Rotatable count MIN"/><h:inputText title="Bonds Rotatable count MIN" value="#{searchCriteriaBean.min_countRotatableBonds}" id="min_countRotatableBonds_id2"/>
                        <h:outputLabel for="max_countRotatableBonds_id2" value="Bonds Rotatable count MAX"/><h:inputText title="Bonds Rotatable count MAX" value="#{searchCriteriaBean.max_countRotatableBonds}" id="max_countRotatableBonds_id2"/>


                        <h:outputText value="Bonds Ring count"/>
                        <h:outputLabel for="min_countRingBonds_id2" value="Bonds Ring count MIN"/><h:inputText title="Bonds Ring count MIN" value="#{searchCriteriaBean.min_countRingBonds}" id="min_countRingBonds_id2"/>
                        <h:outputLabel for="max_countRingBonds_id2" value="Bonds Ring count MAX"/><h:inputText title="Bonds Ring count MAX" value="#{searchCriteriaBean.max_countRingBonds}" id="max_countRingBonds_id2"/>


                        <h:outputText value="Bonds Stereo count"/>
                        <h:outputLabel for="min_countStereoBonds_id2" value="Bonds Stereo count MIN"/><h:inputText title="Bonds Stereo count MIN" value="#{searchCriteriaBean.min_countStereoBonds}" id="min_countStereoBonds_id2"/>
                        <h:outputLabel for="max_countStereoBonds_id2" value="Bonds Stereo count MAX"/><h:inputText title="Bonds Stereo count MAX" value="#{searchCriteriaBean.max_countStereoBonds}" id="max_countStereoBonds_id2"/>


                        <h:outputText value="Rings Aromatic count"/>
                        <h:outputLabel for="min_countAromaticRings_id2" value="Rings Aromatic count MIN"/><h:inputText title="Rings Aromatic count MIN" value="#{searchCriteriaBean.min_countAromaticRings}" id="min_countAromaticRings_id2"/>
                        <h:outputLabel for="max_countAromaticRings_id2" value="Rings Aromatic count MAX"/><h:inputText title="Rings Aromatic count MAX" value="#{searchCriteriaBean.max_countAromaticRings}" id="max_countAromaticRings_id2"/>


                        <h:outputText value="Ring Assemblies count"/>
                        <h:outputLabel for="min_countRingAssemblies_id2" value="Ring Assemblies count MIN"/><h:inputText title="Ring Assemblies count MIN" value="#{searchCriteriaBean.min_countRingAssemblies}" id="min_countRingAssemblies_id2"/>
                        <h:outputLabel for="max_countRingAssemblies_id2" value="Ring Assemblies count MAX"/><h:inputText title="Ring Assemblies count MAX" value="#{searchCriteriaBean.max_countRingAssemblies}" id="max_countRingAssemblies_id2"/>


                        <h:outputText value="Rings count"/>
                        <h:outputLabel for="min_countRings_id2" value="Rings count MIN"/><h:inputText title="Rings count MIN" value="#{searchCriteriaBean.min_countRings}" id="min_countRings_id2"/>
                        <h:outputLabel for="max_countRings_id2" value="Rings count MAX"/><h:inputText title="Rings count MAX" value="#{searchCriteriaBean.max_countRings}" id="max_countRings_id2"/>

                    </p:panelGrid>

                </p:tab>


            <!--
            #####    ##    #####
              #     #  #   #    #
              #    #    #  #####
              #    ######  #    #
              #    #    #  #    #
              #    #    #  #####
            -->            

            <p:tab id="substrsrchtab" title="Substructure Search">

                <h:head>
                    <h:outputScript library="chemdoodle" name="ChemDoodleWeb.js"/>
                    <h:outputStylesheet library="chemdoodle" name="ChemDoodleWeb.css"/>
                    <h:outputScript library="chemdoodle" name="uis/ChemDoodleWeb-uis.js"/>
                    <h:outputStylesheet library="chemdoodle" name="uis/jquery-ui-1.10.3.custom.css"/>
                </h:head>

                <p:remoteCommand name="remCom_runLoadByNsc" 
                                 action="#{structureSearchController.performLoadEditorByNsc()}" 
                                 onstart="PF('loadingBUI').show();"
                                 oncomplete="PF('loadingBUI').hide();"
                                 update=":datasystemForm:searchTabView:ctabforload,:datasystemForm:searchTabView:smilesforload"/>

                <p:remoteCommand name="runSubstructureSearch" 
                                 action="#{structureSearchController.performSubstructureSearch()}" />

                <p:outputPanel id="messagePanel">
                    <h:outputText value="#{structureSearchController.message}"/>
                    <h:outputText value="#{structureSearchController.errorMessage}"/>
                </p:outputPanel>

                <h1>
                    <h:outputText value="Load Structure into Editor"/>
                </h1>

                <h:outputLabel for="nscforload" value="Load structure for NSC:"/>    
                <p:inputText value="#{structureSearchController.nscForLoad}" id="nscforload" maxlength="10"/>
                <p:spacer height="20" width="100%" />
                <p:commandButton value="Load Structure"
                                 onclick="remCom_runLoadByNsc();"
                                 oncomplete="loadEditorFromMol_TabView();"/>

                <h1>
                    <h:outputText value="Structure Editor"/>
                </h1>

                <script type="text/javascript">

                    ChemDoodle.default_bondLength_2D = 14.4;
                    ChemDoodle.default_bonds_width_2D = .6;
                    ChemDoodle.default_bonds_saturationWidth_2D = .18;
                    ChemDoodle.default_bonds_hashSpacing_2D = 2.5;
                    ChemDoodle.default_atoms_font_size_2D = 10;
                    ChemDoodle.default_atoms_font_families_2D = ['Helvetica', 'Arial', 'sans-serif'];
                    ChemDoodle.default_atoms_displayTerminalCarbonLabels_2D = true;
                    ChemDoodle.default_atoms_useJMOLColors = true;

                    var sketcher = new ChemDoodle.SketcherCanvas('sketcher', 500, 300, {useServices: false, oneMolecule: true});

                    sketcher.specs.atoms_displayTerminalCarbonLabels_2D = true;
                    sketcher.specs.atoms_useJMOLColors = true;
                    sketcher.specs.bonds_clearOverlaps_2D = true;

                    sketcher.repaint();

                </script>      

                <h1>
                    <h:outputText value="Configure Substructure Search"/>
                </h1>

                <!--

                <h:outputLabel for="selectListToSearch"
                               value="Search selcted list: " />                  
                <p:selectOneMenu id="selectListToSearch"
                                 converter="#{cmpdListConverter}"                                 
                                 value="#{structureSearchController.listToSearch}">            
                    <f:selectItems value="#{listManagerController.listManagerBean.availableLists}" 
                                   var="al" itemLabel="#{al.listName}" itemValue="#{al}"/>  
                </p:selectOneMenu>  

                <p:spacer height="20" width="100%" />

                -->

                <p:outputLabel for="ssSearchListName" value="Save results to a new list named:" />
                <p:inputText id="ssSearchListName" value="#{structureSearchController.listName}"/>

                <p:spacer height="20" width="100%" />

                <p:commandButton value="Do Substructure Search"
                                 onclick="getMolFromEditor_TabView();
                                       PF('searchingBUI').show();
                                       runSubstructureSearch();"
                                 oncomplete="PF('searchingBUI').hide();"/>

                <h:inputTextarea style="display: none;" id="ctabforload" value="#{structureSearchController.ctabForLoad}"/>
                <h:inputTextarea style="display: none;" id="smilesforload" value="#{structureSearchController.smilesForLoad}"/>  
                <h:inputTextarea style="display: none;" id="ctabfromeditor" value="#{structureSearchController.ctabFromEditor}"/>  
                <h:inputTextarea style="display: none;" id="smilesfromeditor" value="#{structureSearchController.smilesFromCtabFromEditor}"/>  

            </p:tab>        

        </p:tabView>

    </ui:define>

</ui:composition>