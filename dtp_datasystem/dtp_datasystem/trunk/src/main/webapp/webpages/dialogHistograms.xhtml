<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"      
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions">

    <p:dialog header="Histograms"  
              position="right"
              showEffect="fade" 
              hideEffect="fade"                
              widgetVar="histogramsdlg"
              minimizable="false"
              maximizable="false"
              resizable="true"
              draggable="true"
              height="800"
              width="1000"
              appendTo="@(body)">  

        <p:outputPanel id="HistogramsDialog">

            <p:dataGrid rendered="#{histogramController.scatterPlotModel != null}" 
                        value="#{histogramController.scatterPlotModel}" 
                        var="scat" 
                        columns="3">      

                <p:lineChart value="#{scat}" 
                             title="#{scat.title}"
                             xaxisLabel="#{scat.labelAxisX}"
                             yaxisLabel="#{scat.labelAxisY}"
                             xaxisAngle="-90"            
                             zoom="true"
                             style="height:400px; width:400px"
                             extender="scatterPlotExtender"/>

            </p:dataGrid>

            <p:dataGrid rendered="#{histogramController.histoModel != null}"
                        value="#{histogramController.histoModel}" 
                        var="histo" 
                        columns="3">      

                <p:barChart value="#{histo.chartModel}"
                            title="#{histo.chartModel.title}"                      
                            extender="histogramExtender"
                            zoom="false"
                            showDatatip="true"
                            style="height:200px; width:200px"
                            barPadding="1"
                            barMargin="1"
                            xaxisAngle="-90"
                            animate="true"
                            stacked="true">

                    <p:ajax event="itemSelect" 
                            immediate="true" 
                            process="@this"
                            listener="#{histogramController.itemSelectHistogram}"
                            update=":datasystemForm:HistogramsDialog,:datasystemForm:SelectedListMembersDialog"/>   

                </p:barChart>

            </p:dataGrid>

        </p:outputPanel>

    </p:dialog>

</ui:composition>