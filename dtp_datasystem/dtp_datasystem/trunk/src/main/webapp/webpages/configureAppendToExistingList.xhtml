<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"      
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions"
                template="/webpages/templates/ui.xhtml">

  <ui:define name="content">
    
    <p:panelGrid columns="1">

    <h:outputText value="Append #{fn:length(listManagerController.listManagerBean.selectedActiveListMembers)} List Members to Existing List." />
    
    <p:outputLabel for="listNameAutoComp" value="Existing List select:"/>         
    
    <p:autoComplete id="listNameAutoComp"
                    converter="#{cmpdListConverter}"
                    dropdown="true"                                 
                    emptyMessage="No matches"
                    placeholder="Start typing for possible matches"
                    scrollHeight="150"
                    minQueryLength="3"                                    
                    completeMethod="#{listManagerController.completeListName}"                        
                    value="#{listContentController.targetList}">
    </p:autoComplete>  

    <p:commandButton action="#{listContentController.performAppendSelectedToExistingList()}"
                     value="Append Selected to Existing List"
                     onstart="PF('appendingBUI').show();"
                     oncomplete="PF('appendingBUI').hide();"
                     style="width: 100%;" />
    
    </p:panelGrid>

  </ui:define>

</ui:composition>